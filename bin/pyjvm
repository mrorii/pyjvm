#!/usr/bin/env python

import sys

from pyjvm.thread_manager import ThreadManager
from pyjvm.class_manager import ClassManager

def main():
    thread_manager = ThreadManager()
    class_manager = ClassManager()

    main_class = class_manager.load(sys.argv[1])
    thread = thread_manager.create()
    thread.set_main(main_class, sys.argv[2:])
    thread.kick()

if __name__ == '__main__':
    main()
